!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["React Ringa"]=t():e["React Ringa"]=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=4)}([function(e,t,n){"use strict";function o(e,t){return e.state?(e.__ringaStateQueue=e.__ringaStateQueue||{},e.__ringaStateQueue=Object.assign(e.__ringaStateQueue,t),void(e.__ringaStateQueueTimeout||(e.__ringaStateQueueTimeout=setTimeout(function(){e.__ringaStateQueueTimeout=0,e.setState(e.__ringaStateQueue)},0)))):void(e.state=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.refName,r=void 0===o?"ringaComponent":o,a=n.callback,i=void 0===a?void 0:a,c=void 0;e.componentDidMount&&(c=e.componentDidMount.bind(e)),e.$ringaControllers=e.$ringaControllers||[],e.$ringaControllers.push(t),e.componentDidMount=function(){return e.refs&&e.refs[r]?(t.bus=e.refs[r],c&&c(),void(i&&i())):void console.warn("attach(): Error attaching Ringa Controller to React Component "+e.constructor.name+". Component reference named '"+r+"' does not exist.")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=[];for(e._reactInternalInstance&&(n.push(e),e=e._reactInternalInstance);e;){n.push(e),e._reactInternalInstance&&(e=e._reactInternalInstance);try{e=e._currentElement._owner._instance}catch(t){e=null}}return n.forEach(t),n}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{classOrId:e,propertyPath:t,setOnState:n,setOnComponent:o}}function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=c(e),r=0;r<o.length;r++){var a=o[r],i=a.modelWatcher;if(i){var d=i.find(t,n);if(d)return d}}return null}function c(e){var t=[];return r(e,function(e){e.$ringaControllers&&e.$ringaControllers.length&&(t=t.concat(e.$ringaControllers))}),t}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=void 0;e.componentWillMount&&(o=e.componentWillMount.bind(e)),void 0===e.state&&(e.state={}),e.componentWillMount=function(){var r=c(e);return r.length?(t=t instanceof Array?t:[t],t.forEach(function(t){var o=[];r.forEach(function(r){var a=r.modelWatcher;if(a){var i=function(){var r=a.find(t.classOrId);if(!r)return{v:void 0};o.push(r),o.length>1&&console.warn("depend(): found two models while looking for a dependency on '"+e.constructor.name+"'! Watch is:\n",t,"found these models:\n",o,"depend() looks for the closest model it can find that matches the watch criteria. This means you might have a serious error in your stack. Proceeding as normal.");var i={};i[t.setProperty||r.name]=r,(0,s.default)(e,i);var c=void 0,d=void 0;if(t.propertyPath){var l=t.propertyPath instanceof Array?t.propertyPath:[t.propertyPath];l.forEach(function(o){c=a.find(t.classOrId,o),d=function(t,o){var r=n?n(o):void 0;void 0===r&&t.setOnState&&!function(){var n={};o.forEach(function(e){var o={},r=e.model.name;if(t.setProperty&&(r=t.setProperty),e.watchedPath)try{var a=e.watchedPath.split(".");r=a[a.length-1]}catch(t){console.error("depend(): property was updated but watched path was invalid. watchedPath was:",e.watchedPath)}o[r]=e.watchedValue,n=Object.assign(n,o)}),(0,s.default)(e,n)}()}.bind(void 0,t),a.watch(t.classOrId,o,d),d&&d([{model:r,value:c,watchedPath:o,watchedValue:c}])})}}();if("object"===("undefined"==typeof i?"undefined":l(i)))return i.v}}),o.length||console.error("depend(): could not find the model",t.classOrId.name,"in any ancestor Controllers of React component",e.constructor.name,e,"during the componentDidMount() phase. Found these instantiated and attached controllers",r)}),void(o&&o())):void console.error("react-ringa depend(): could not find any Ringa Controllers in the ancestors of "+e.constructor.name+", the following dependencies will NOT work: ",t,e)}}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.walkReactParents=r,t.dependency=a,t.find=i,t.getAllListeningControllers=c,t.depend=d;var u=n(0),s=o(u)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){if(t){if(!t.watch)throw new Error("react-ringa watch(): the provided object is not a Ringa Model '"+t+"'");t.watch(function(o){var r=void 0;if(n&&(r=n.apply(void 0,[o])),void 0===r){var a={};a[t.name]=t,(0,i.default)(e,a)}});var o={};o[t.name]=t,(0,i.default)(e,o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(0),i=o(a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.getAllListeningControllers=t.find=t.walkReactParents=t.dependency=t.depend=t.attach=void 0;var r=n(1),a=o(r),i=n(3),c=o(i),d=n(2);t.attach=a.default,t.depend=d.depend,t.dependency=d.dependency,t.walkReactParents=d.walkReactParents,t.find=d.find,t.getAllListeningControllers=d.getAllListeningControllers,t.watch=c.default,t.default={attach:a.default,depend:d.depend,dependency:d.dependency,walkReactParents:d.walkReactParents,find:d.find,getAllListeningControllers:d.getAllListeningControllers,watch:c.default}}])});
//# sourceMappingURL=react-ringa.min.js.map