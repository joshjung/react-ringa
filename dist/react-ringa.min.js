!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["React Ringa"]=t():e["React Ringa"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=4)}([function(e,t,n){"use strict";function r(e,t){return e.state?(e.__ringaStateQueue=e.__ringaStateQueue||{},e.__ringaStateQueue=Object.assign(e.__ringaStateQueue,t),void(e.__ringaStateQueueTimeout||(e.__ringaStateQueueTimeout=setTimeout(function(){e.__ringaStateQueueTimeout=0,e.setState(e.__ringaStateQueue)},1)))):void(e.state=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.refName,o=void 0===r?"ringaComponent":r,a=n.callback,i=void 0===a?void 0:a,l=void 0;e.componentDidMount&&(l=e.componentDidMount.bind(e)),e.$ringaControllers=e.$ringaControllers||[],e.$ringaControllers.push(t),e.componentDidMount=function(){return e.refs&&e.refs[o]?(t.bus=e.refs[o],l&&l(),void(i&&i())):void console.warn("attach(): Error attaching Ringa Controller to React Component "+e.constructor.name+". Component reference named '"+o+"' does not exist.")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=[];for(e._reactInternalInstance&&(n.push(e),e=e._reactInternalInstance);e;){n.push(e),e._reactInternalInstance&&(e=e._reactInternalInstance);try{e=e._currentElement._owner._instance}catch(t){e=null}}return n.forEach(t),n}function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{classOrId:e,propertyPath:t,setOnState:n}}function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=l(e),o=0;o<r.length;o++){var a=r[o],i=a.modelWatcher;if(i)return i.find(t,n)}return null}function l(e){var t=[];return o(e,function(e){e.$ringaControllers&&e.$ringaControllers.length&&(t=t.concat(e.$ringaControllers))}),t}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=void 0;e.componentWillMount&&(r=e.componentWillMount.bind(e)),void 0===e.state&&(e.state={}),e.componentWillMount=function(){var o=l(e);if(!o.length)return void console.error("react-ringa depend(): could not find any Ringa Controllers in the ancestors of "+e.constructor.name+", the following dependencies will NOT work: ",t,e);t=t instanceof Array?t:[t];var a=[];t.forEach(function(t){o.forEach(function(r){var o=r.modelWatcher;if(o){var i=o.find(t.classOrId),l=o.find(t.classOrId,t.propertyPath),u=function(t,r){var o={},a=void 0;n&&(a=n(r)),void 0===a&&t.setOnState&&(r.forEach(function(e){var t={},n=e.model.name;if(e.setProp)n=e.setProp;else if(e.watchedPath){var r=e.watchedPath.split(".");n=r[r.length-1]}t[n]=e.watchedValue,o=Object.assign(o,t)}),(0,d.default)(e,o))}.bind(void 0,t);void 0!==i&&null!==l&&(a.push({model:i,value:l}),u([{model:i,value:l,watchedPath:t.propertyPath,watchedValue:l}])),o.watch(t.classOrId,t.propertyPath,u)}})}),a&&a.length&&n&&n(a),r&&r()}}Object.defineProperty(t,"__esModule",{value:!0}),t.walkReactParents=o,t.dependency=a,t.find=i,t.getAllListeningControllers=l,t.depend=u;var c=n(0),d=r(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(t){if(!t.watch)throw new Error("react-ringa watch(): the provided object is not a Ringa Model '"+t+"'");t.watch(function(r){var o=void 0;if(n&&(o=n.apply(void 0,[r])),void 0===o){var a={};a[t.name]=t,(0,i.default)(e,a)}});var r={};r[t.name]=t,(0,i.default)(e,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.getAllListeningControllers=t.find=t.walkReactParents=t.dependency=t.depend=t.attach=void 0;var o=n(1),a=r(o),i=n(3),l=r(i),u=n(2);t.attach=a.default,t.depend=u.depend,t.dependency=u.dependency,t.walkReactParents=u.walkReactParents,t.find=u.find,t.getAllListeningControllers=u.getAllListeningControllers,t.watch=l.default,t.default={attach:a.default,depend:u.depend,dependency:u.dependency,walkReactParents:u.walkReactParents,find:u.find,getAllListeningControllers:u.getAllListeningControllers,watch:l.default}}])});
//# sourceMappingURL=react-ringa.min.js.map