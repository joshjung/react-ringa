!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("ringa")):"function"==typeof define&&define.amd?define(["react","react-dom","ringa"],t):"object"==typeof exports?exports["React Ringa"]=t(require("react"),require("react-dom"),require("ringa")):e["React Ringa"]=t(e.React,e.ReactDOM,e.Ringa)}(this,function(e,t,n){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=5)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){for(;e;){for(var t in e)if(t.startsWith("__reactInternalInstance$")){if(v.default.version.startsWith("16")){for(var n=e[t];n&&!(n.stateNode instanceof v.default.Component);)n=n.return;return n.stateNode}return e[t]._currentElement._owner._instance}e=e.parentNode}return null}function a(e){for(;e;){for(var t in e)if(t.startsWith("__reactInternalInstance$"))return e;e=e.parentNode}return null}function i(e,t){return e._reactInternalFiber?c(e,t):d(e,t)}function c(e,t){for(var n=[],o=e._reactInternalFiber;o;){var r=o.stateNode;r&&r instanceof v.default.Component&&-1===n.indexOf(r)&&n.push(r),r&&r.$ringaAlternateParentComponent?(r=r.$ringaAlternateParentComponent,n.push(r),o=r._reactInternalFiber):o=o.return}return t&&n.forEach(t),n}function d(e,t){var n=[];for(e=e._reactInternalInstance;e;){var o=e._instance||e._currentElement._owner._instance;-1===n.indexOf(o)&&n.push(o),e=o.$ringaAlternateParentComponent?o.$ringaAlternateParentComponent._reactInternalInstance:e._hostParent}return t&&n.forEach(t),n}function u(e){return i(e)}function l(e){var t=[],n=[];return i(e,function(e){n.push(e),e.$ringaControllers&&e.$ringaControllers.length&&(t=t.concat(e.$ringaControllers))}),t}function s(e,t){var n=void 0;return e.refs&&e.refs[t]?n=e.refs[t]:(n=p.default.findDOMNode(e),n||console.warn("attach(): Error finding root DOM node for React Component "+e.constructor.name+". Component ref named '"+t+"' does not exist and ReactDOM findDomNode(component) did not return anything. This can happen if the render() method returns null or undefined."),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.domNodeToNearestReactComponent=r,t.domNodeToNearestReactComponentDomNode=a,t.walkReactParents=i,t.getAllReactComponentAncestors=u,t.getAllListeningControllers=l,t.findComponentRoot=s;var f=n(7),p=o(f),m=n(6),v=o(m)},function(e,t,n){"use strict";function o(e){e.__ringaStateQueueTimeout&&(clearTimeout(e.__ringaStateQueueTimeout),delete e.__ringaStateQueueTimeout),delete e.__ringaStateQueue}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.state)return void(e.state=t);if(e.updater.isMounted(e))e.__ringaStateQueue=e.__ringaStateQueue||{},e.__ringaStateQueue=Object.assign(e.__ringaStateQueue,t),e.__ringaStateQueueTimeout||(e.__ringaStateQueueTimeout=setTimeout(function(){e.__ringaStateQueueTimeout=0,e.setState(e.__ringaStateQueue),delete e.__ringaStateQueue},0));else if(n)for(var o in t)e.state[o]=t[o];else{var r=Object.assign(t,e.state);e.state=r}}Object.defineProperty(t,"__esModule",{value:!0}),t.unqueueState=o,t.queueState=r},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.refName,i=void 0===o?"ringaRoot":o,c=n.callback,d=void 0===c?void 0:c,u=n.bus,l=void 0===u?void 0:u,s=void 0,f=void 0,p=void 0;t instanceof a.Model?(p=new a.Controller,p.addModel(t)):p=t,e.componentDidMount&&(s=e.componentDidMount.bind(e)),e.componentWillUnmount&&(f=e.componentWillUnmount.bind(e)),e.$ringaControllers=e.$ringaControllers||[],e.$ringaControllers.push(p),e.componentDidMount=function(){var t=(0,r.findComponentRoot)(e,i);l?p.bus=l:t?(t.$ringaControllers=t.$ringaControllers||[],t.$ringaControllers.push(p),p.bus=t):console.warn("attach(): could not find domNode to set as bus for controller "+p),s&&s(),d&&d()},e.componentWillUnmount=function(){var t=(0,r.findComponentRoot)(e,i),n=void 0;t&&t.$ringaControllers&&(n=t.$ringaControllers.indexOf(p),t.$ringaControllers.splice(n,1)),n=e.$ringaControllers.indexOf(p),e.$ringaControllers.splice(n,1),f&&f()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(0),a=n(8)},function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{setOnState:!0,setOnComponent:!1,setStateAs:void 0},o=n.setOnState,r=void 0===o||o,a=n.setStateAs,i=void 0===a?void 0:a,c=n.setOnComponent;return{classOrId:e,propertyPaths:t,setOnState:r,setOnComponent:void 0!==c&&c,setStateAs:i}}function r(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=(0,d.getAllListeningControllers)(e),r=0;r<o.length;r++){var a=o[r],i=a.modelWatcher;if(i){var c=i.find(t,n);if(c)return c}}return null}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],void 0),r=void 0;e.componentWillMount&&(o=e.componentWillMount.bind(e)),e.componentWillUnmount&&(r=e.componentWillUnmount.bind(e)),void 0===e.state&&(e.state={});var a=void 0,u=[];e.componentWillUnmount=function(){(0,c.unqueueState)(e),u.forEach(function(e){e.mw.unwatch(e.classOrId,e.propertyPath,e.changeHandler)}),r&&r()},e.componentWillMount=function(){var r=!0;if(a=(0,d.getAllListeningControllers)(e),!a.length)return void console.error("react-ringa depend(): could not find any Ringa Controllers in the ancestors of "+e.constructor.name+", the following dependencies will NOT work: ",t,e);t=t instanceof Array?t:[t],t.forEach(function(t){var o=[];a.forEach(function(a){var d=a.modelWatcher;if(d){var l=d.find(t.classOrId);if(!l)return;o.push(l);var s={};s[t.setStateAs||l.name]=l,(0,c.queueState)(e,s,r);var f=void 0,p=void 0;if(t.propertyPaths){var m=t.propertyPaths instanceof Array?t.propertyPaths:[t.propertyPaths];p=function(t,o){if(void 0===(n?n(o):void 0)&&t.setOnState){var a={};o.forEach(function(e){var t={},n=e.watchedModel.name;e.propertyObj&&e.propertyObj.setStateAs&&(n=e.propertyObj.setStateAs),e.watchedPath&&(n=e.watchedPath.split(".").pop()),t[n]=e.watchedValue,a=Object.assign(a,t)}),(0,c.queueState)(e,a,r)}}.bind(void 0,t),m.forEach(function(e){var n=void 0;"object"===(void 0===e?"undefined":i(e))&&(n=e,e=n.propertyPath),f=d.find(t.classOrId,e),u.push({mw:d,classOrId:t.classOrId,propertyPath:e,propertyPathObj:n,changeHandler:p}),d.watch(t.classOrId,e,p),p&&p([{watchedModel:l,signalValue:f,watchedPath:e,watchedValue:f,propertyPathObj:n}])})}}}),o.length||(t.classOrId?console.error("depend(): could not find the model",t.classOrId.name,"in any ancestor Controllers of React component",e.constructor.name,e,"during the componentDidMount() phase. Found these instantiated and attached controllers",a):console.error("depend(): could not the model as it was not specified!"))}),o&&o(),r=!1}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.dependency=o,t.find=r,t.depend=a;var c=n(1),d=n(0)},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(t){if(!t.watch)throw new Error("react-ringa watch(): the provided object is not a Ringa Model '"+t+"'");var a=e.componentWillUnmount?e.componentWillUnmount.bind(e):void 0;e.$watches=e.$watches||{};var i=e.$watches[t.id];i&&t.unwatch(i);var c=e.$watches[t.id]=function(a,i,c,d,u){var l=void 0,s=!1;if(n.forEach(function(e){var t=e.split("*")[0];a.startsWith(t)&&(s=!0)}),(s||!n.length)&&(o&&(l=o.apply(void 0,[a,i,c,d,u])),void 0===l)){var f={};f[t.name]=t,(0,r.queueState)(e,f)}},d=function(){(0,r.unqueueState)(e),t.unwatch(c)};e.componentWillUnmount=function(){d(),a&&a()},t.watch(c);var u={};return u[t.name]=t,(0,r.queueState)(e,u),d}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.domNodeToNearestReactComponentDomNode=t.getAllReactComponentAncestors=t.domNodeToNearestReactComponent=t.watch=t.getAllListeningControllers=t.find=t.walkReactParents=t.dependency=t.depend=t.attach=void 0;var r=n(2),a=o(r),i=n(4),c=o(i),d=n(3),u=n(0);t.attach=a.default,t.depend=d.depend,t.dependency=d.dependency,t.walkReactParents=u.walkReactParents,t.find=d.find,t.getAllListeningControllers=u.getAllListeningControllers,t.watch=c.default,t.domNodeToNearestReactComponent=u.domNodeToNearestReactComponent,t.getAllReactComponentAncestors=u.getAllReactComponentAncestors,t.domNodeToNearestReactComponentDomNode=u.domNodeToNearestReactComponentDomNode,t.default={attach:a.default,depend:d.depend,dependency:d.dependency,walkReactParents:u.walkReactParents,find:d.find,getAllListeningControllers:u.getAllListeningControllers,watch:c.default,domNodeToNearestReactComponent:u.domNodeToNearestReactComponent,getAllReactComponentAncestors:u.getAllReactComponentAncestors,domNodeToNearestReactComponentDomNode:u.domNodeToNearestReactComponentDomNode}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n}])});
//# sourceMappingURL=react-ringa.min.js.map