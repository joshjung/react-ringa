!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["React Ringa"]=n():e["React Ringa"]=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/",n(n.s=3)}([function(e,n,t){"use strict";function o(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.refName,r=void 0===o?"ringaComponent":o,a=t.callback,i=void 0===a?void 0:a,c=void 0;e.componentDidMount&&(c=e.componentDidMount.bind(e)),e.$ringaControllers=e.$ringaControllers||[],e.$ringaControllers.push(n),e.componentDidMount=function(){return e.refs&&e.refs[r]?(n.bus=e.refs[r],c&&c(),void(i&&i())):void console.warn("attach(): Error attaching Ringa Controller to React Component "+e.constructor.name+". Component reference named '"+r+"' does not exist.")}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},function(e,n,t){"use strict";function o(e,n){var t=[];for(e._reactInternalInstance&&(t.push(e),e=e._reactInternalInstance);e;){t.push(e);try{e=e._currentElement._owner._instance}catch(n){e=null}}return t.forEach(n),t}function r(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{classOrId:e,propertyPath:n,setOnState:t}}function a(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=i(e),r=0;r<o.length;r++){var a=o[r],c=a.modelWatcher;if(c)return c.find(n,t)}return null}function i(e){var n=[];return o(e,function(e){e.$ringaControllers&&e.$ringaControllers.length&&(n=n.concat(e.$ringaControllers))}),n}function c(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=void 0;e.componentWillMount&&(o=e.componentWillMount.bind(e)),e.componentWillMount=function(){var r=i(e);if(!r.length)return void console.error("react-ringa depend(): could not find any Ringa Controllers in the ancestors of "+e.constructor.name+", the following dependencies will NOT work: ",n,e);n=n instanceof Array?n:[n];var a=[];n.forEach(function(n){r.forEach(function(t){var o=t.modelWatcher;if(o){var r=o.find(n.classOrId),i=o.find(n.classOrId,n.propertyPath),c=function(n,t){var o={},r=e.dependencyDidChange?e.dependencyDidChange(change,n):void 0;void 0===r&&n.setOnState&&(t.forEach(function(e){var n={},t=e.model.name;if(e.setProp)t=e.setProp;else if(e.watchedPath){var r=e.watchedPath.split(".");t=r[r.length-1]}n[t]=e.watchedValue,o=Object.assign(o,n)}),e.setState(o))}.bind(void 0,n);void 0!==r&&null!==i&&(a.push({model:r,value:i}),c([{model:r,value:i,watchedPath:n.propertyPath,watchedValue:i}])),o.watch(n.classOrId,n.propertyPath,c)}})}),a&&a.length&&t&&t(a),o&&o()}}Object.defineProperty(n,"__esModule",{value:!0}),n.walkReactParents=o,n.dependency=r,n.find=a,n.getAllListeningControllers=i,n.depend=c},function(e,n,t){"use strict";function o(e,n,t){if(n){if(!n.watch)throw new Error("react-ringa watch(): the provided object is not a Ringa Model '"+n+"'");n.watch(function(n){e.forceUpdate(),t&&t.apply(void 0,[n])})}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.watch=n.getAllListeningControllers=n.find=n.walkReactParents=n.dependency=n.depend=n.attach=void 0;var r=t(0),a=o(r),i=t(2),c=o(i),l=t(1);n.attach=a.default,n.depend=l.depend,n.dependency=l.dependency,n.walkReactParents=l.walkReactParents,n.find=l.find,n.getAllListeningControllers=l.getAllListeningControllers,n.watch=c.default,n.default={attach:a.default,depend:l.depend,dependency:l.dependency,walkReactParents:l.walkReactParents,find:l.find,getAllListeningControllers:l.getAllListeningControllers,watch:c.default}}])});
//# sourceMappingURL=react-ringa.min.js.map