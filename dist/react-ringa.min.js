!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react-dom")):"function"==typeof define&&define.amd?define(["react-dom"],t):"object"==typeof exports?exports["React Ringa"]=t(require("react-dom")):e["React Ringa"]=t(e.ReactDOM)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=5)}([function(e,t,n){"use strict";function o(e){for(;e;){for(var t in e)if(t.startsWith("__reactInternalInstance$"))return e[t]._currentElement._owner._instance;e=e.parentNode}return null}function r(e){for(;e;){for(var t in e)if(t.startsWith("__reactInternalInstance$"))return e;e=e.parentNode}return null}function a(e,t){var n=[];for(e=e._reactInternalInstance;e;){var o=e._instance||e._currentElement._owner._instance;-1===n.indexOf(o)&&n.push(o),e=o.$ringaAlternateParentComponent?o.$ringaAlternateParentComponent._reactInternalInstance:e._hostParent}return t&&n.forEach(t),n}function i(e){return a(e)}function d(e){var t=[],n=[];return a(e,function(e){n.push(e),e.$ringaControllers&&e.$ringaControllers.length&&(t=t.concat(e.$ringaControllers))}),t}function c(e,t){var n=void 0;return e.refs&&e.refs[t]?n=e.refs[t]:(n=u.default.findDOMNode(e),n||console.warn("attach(): Error finding root DOM node for React Component "+e.constructor.name+". Component ref named '"+t+"' does not exist and ReactDOM findDomNode(component) did not return anything. This can happen if the render() method returns null or undefined."),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.domNodeToNearestReactComponent=o,t.domNodeToNearestReactComponentDomNode=r,t.walkReactParents=a,t.getAllReactComponentAncestors=i,t.getAllListeningControllers=d,t.findComponentRoot=c;var l=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(l)},function(e,t,n){"use strict";function o(e){e.__ringaStateQueueTimeout&&(clearTimeout(e.__ringaStateQueueTimeout),delete e.__ringaStateQueueTimeout),delete e.__ringaStateQueue}function r(e,t){return e.state?e.updater.isMounted(e)?(e.__ringaStateQueue=e.__ringaStateQueue||{},e.__ringaStateQueue=Object.assign(e.__ringaStateQueue,t),void(e.__ringaStateQueueTimeout||(e.__ringaStateQueueTimeout=setTimeout(function(){e.__ringaStateQueueTimeout=0,e.setState(e.__ringaStateQueue),delete e.__ringaStateQueue},0)))):void(e.state=Object.assign(t,e.state)):void(e.state=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.unqueueState=o,t.queueState=r},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.refName,a=void 0===o?"ringaRoot":o,i=n.callback,d=void 0===i?void 0:i,c=n.bus,l=void 0===c?void 0:c,u=void 0,s=void 0;e.componentDidMount&&(u=e.componentDidMount.bind(e)),e.componentWillUnmount&&(s=e.componentWillUnmount.bind(e)),e.$ringaControllers=e.$ringaControllers||[],e.$ringaControllers.push(t),e.componentDidMount=function(){var n=(0,r.findComponentRoot)(e,a);l?t.bus=l:n?(n.$ringaControllers=n.$ringaControllers||[],n.$ringaControllers.push(t),t.bus=n):console.warn("attach(): could not find domNode to set as bus for controller "+t),u&&u(),d&&d()},e.componentWillUnmount=function(){var n=(0,r.findComponentRoot)(e,a),o=void 0;n&&n.$ringaControllers&&(o=n.$ringaControllers.indexOf(t),n.$ringaControllers.splice(o,1)),o=e.$ringaControllers.indexOf(t),e.$ringaControllers.splice(o,1),s&&s()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(0)},function(e,t,n){"use strict";function o(e){return{classOrId:e,propertyPath:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,setOnState:!(arguments.length>2&&void 0!==arguments[2])||arguments[2],setOnComponent:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}function r(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=(0,d.getAllListeningControllers)(e),r=0;r<o.length;r++){var a=o[r],i=a.modelWatcher;if(i){var c=i.find(t,n);if(c)return c}}return null}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],void 0),r=void 0;e.componentWillMount&&(o=e.componentWillMount.bind(e)),e.componentWillUnmount&&(r=e.componentWillUnmount.bind(e)),void 0===e.state&&(e.state={});var a=void 0,c=[];e.componentWillUnmount=function(){(0,i.unqueueState)(e),c.forEach(function(e){e.mw.unwatch(e.classOrId,e.propertyPath,e.changeHandler)}),r&&r()},e.componentWillMount=function(){if(a=(0,d.getAllListeningControllers)(e),!a.length)return void console.error("react-ringa depend(): could not find any Ringa Controllers in the ancestors of "+e.constructor.name+", the following dependencies will NOT work: ",t,e);t=t instanceof Array?t:[t],t.forEach(function(t){var o=[];a.forEach(function(r){var a=r.modelWatcher;if(a){var d=a.find(t.classOrId);if(!d)return;if(o.push(d),o.length>1)return void console.warn("depend(): found two models while looking for a dependency on '"+e.constructor.name+"'! Watch is:\n",t,"found these models:\n",o,"depend() looks for the closest model it can find that matches the watch criteria. This means you might have a serious error in your stack. Proceeding as normal.");var l={};l[t.setProperty||d.name]=d,(0,i.queueState)(e,l);var u=void 0,s=void 0;if(t.propertyPath){var f=t.propertyPath instanceof Array?t.propertyPath:[t.propertyPath];s=function(t,o){if(void 0===(n?n(o):void 0)&&t.setOnState){var r={};o.forEach(function(e){var n={},o=e.watchedModel.name;if(t.setProperty)o=t.setProperty;else if(e.watchedPath){var a=e.watchedPath.split(".");o=a[a.length-1]}n[o]=e.watchedValue,r=Object.assign(r,n)}),(0,i.queueState)(e,r)}}.bind(void 0,t),f.forEach(function(e){u=a.find(t.classOrId,e),c.push({mw:a,classOrId:t.classOrId,propertyPath:e,changeHandler:s}),a.watch(t.classOrId,e,s),s&&s([{watchedModel:d,signalValue:u,watchedPath:e,watchedValue:u}])})}}}),o.length||(t.classOrId?console.error("depend(): could not find the model",t.classOrId.name,"in any ancestor Controllers of React component",e.constructor.name,e,"during the componentDidMount() phase. Found these instantiated and attached controllers",a):console.error("depend(): could not the model as it was not specified!"))}),o&&o()}}Object.defineProperty(t,"__esModule",{value:!0}),t.dependency=o,t.find=r,t.depend=a;var i=n(1),d=n(0)},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(t){if(!t.watch)throw new Error("react-ringa watch(): the provided object is not a Ringa Model '"+t+"'");var a=e.componentWillUnmount?e.componentWillUnmount.bind(e):void 0;e.$watches=e.$watches||{};var i=e.$watches[t.id];i&&t.unwatch(i);var d=e.$watches[t.id]=function(a,i,d,c,l){var u=void 0,s=!1;if(n.forEach(function(e){var t=e.split("*")[0];a.startsWith(t)&&(s=!0)}),(s||0===n.length)&&(o&&(u=o.apply(void 0,[a,i,d,c,l])),void 0===u)){var f={};f[t.name]=t,(0,r.queueState)(e,f)}},c=function(){(0,r.unqueueState)(e),t.unwatch(d)};e.componentWillUnmount=function(){c(),a&&a()},t.watch(d);var l={};return l[t.name]=t,(0,r.queueState)(e,l),c}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.domNodeToNearestReactComponentDomNode=t.getAllReactComponentAncestors=t.domNodeToNearestReactComponent=t.watch=t.getAllListeningControllers=t.find=t.walkReactParents=t.dependency=t.depend=t.attach=void 0;var r=n(2),a=o(r),i=n(4),d=o(i),c=n(3),l=n(0);t.attach=a.default,t.depend=c.depend,t.dependency=c.dependency,t.walkReactParents=l.walkReactParents,t.find=c.find,t.getAllListeningControllers=l.getAllListeningControllers,t.watch=d.default,t.domNodeToNearestReactComponent=l.domNodeToNearestReactComponent,t.getAllReactComponentAncestors=l.getAllReactComponentAncestors,t.domNodeToNearestReactComponentDomNode=l.domNodeToNearestReactComponentDomNode,t.default={attach:a.default,depend:c.depend,dependency:c.dependency,walkReactParents:l.walkReactParents,find:c.find,getAllListeningControllers:l.getAllListeningControllers,watch:d.default,domNodeToNearestReactComponent:l.domNodeToNearestReactComponent,getAllReactComponentAncestors:l.getAllReactComponentAncestors,domNodeToNearestReactComponentDomNode:l.domNodeToNearestReactComponentDomNode}},function(t,n){t.exports=e}])});
//# sourceMappingURL=react-ringa.min.js.map