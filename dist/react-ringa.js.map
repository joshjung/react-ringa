{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap df646935938d98cbf92d","webpack:///./src/util.js","webpack:///./src/queueState.js","webpack:///./src/attach.js","webpack:///./src/depend.js","webpack:///./src/watch.js","webpack:///./src/index.js"],"names":["domNodeToNearestReactComponent","domNodeToNearestReactComponentDomNode","walkReactParents","getAllReactComponentAncestors","getAllListeningControllers","domNode","key","startsWith","_currentElement","_owner","_instance","parentNode","component","callback","ancestors","_reactInternalInstance","push","e","forEach","controllers","c","$ringaControllers","length","concat","unqueueState","queueState","reactComponent","__ringaStateQueueTimeout","clearTimeout","__ringaStateQueue","newState","state","Object","assign","setTimeout","setState","attach","controller","refName","undefined","_componentDidMount","componentDidMount","bind","refs","console","warn","constructor","name","bus","dependency","find","depend","classOrId","propertyPath","setOnState","setOnComponent","value","i","mw","modelWatcher","watches","handler","_componentWillMount","_componentWillUnmount","componentWillMount","componentWillUnmount","mws","mwGroup","unwatch","changeHandler","error","Array","foundModels","model","watch","s","setProperty","pp","changes","skipUpdate","prop","change","watchedPath","split","watchedValue","Error","path","fu","apply","o"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;QCzDgBA,8B,GAAAA,8B;QAqBAC,qC,GAAAA,qC;QAoBAC,gB,GAAAA,gB;QAoCAC,6B,GAAAA,6B;QAWAC,0B,GAAAA,0B;AA/FhB;;;;;;;AAOO,SAASJ,8BAAT,CAAwCK,OAAxC,EAAiD;AACtD,SAAOA,OAAP,EAAgB;AACd,SAAK,IAAIC,GAAT,IAAgBD,OAAhB,EAAyB;AACvB,UAAIC,IAAIC,UAAJ,CAAe,0BAAf,CAAJ,EAAgD;AAC9C,eAAOF,QAAQC,GAAR,EAAaE,eAAb,CAA6BC,MAA7B,CAAoCC,SAA3C;AACD;AACF;;AAEDL,cAAUA,QAAQM,UAAlB;AACD;;AAED,SAAO,IAAP;AACD;;AAED;;;;;;;AAOO,SAASV,qCAAT,CAA+CI,OAA/C,EAAwD;AAC7D,SAAOA,OAAP,EAAgB;AACd,SAAK,IAAIC,GAAT,IAAgBD,OAAhB,EAAyB;AACvB,UAAIC,IAAIC,UAAJ,CAAe,0BAAf,CAAJ,EAAgD;AAC9C,eAAOF,OAAP;AACD;AACF;;AAEDA,cAAUA,QAAQM,UAAlB;AACD;;AAED,SAAO,IAAP;AACD;;AAED;;;;;;AAMO,SAAST,gBAAT,CAA0BU,SAA1B,EAAqCC,QAArC,EAA+C;AACpD,MAAIC,YAAY,EAAhB;;AAEA,MAAIF,UAAUG,sBAAd,EAAsC;AACpCD,cAAUE,IAAV,CAAeJ,SAAf;;AAEAA,gBAAYA,UAAUG,sBAAtB;AACD;;AAED,SAAOH,SAAP,EAAkB;AAChBE,cAAUE,IAAV,CAAeJ,SAAf;;AAEA,QAAIA,UAAUG,sBAAd,EAAsC;AACpCH,kBAAYA,UAAUG,sBAAtB;AACD;;AAED,QAAI;AACFH,kBAAYA,UAAUJ,eAAV,CAA0BC,MAA1B,CAAiCC,SAA7C;AACD,KAFD,CAEE,OAAOO,CAAP,EAAU;AACVL,kBAAY,IAAZ;AACD;AACF;;AAED,MAAIC,QAAJ,EAAc;AACZC,cAAUI,OAAV,CAAkBL,QAAlB;AACD;;AAED,SAAOC,SAAP;AACD;;AAED;;;;;;AAMO,SAASX,6BAAT,CAAuCS,SAAvC,EAAkD;AACvD,SAAOV,iBAAiBU,SAAjB,CAAP;AACD;;AAED;;;;;;;AAOO,SAASR,0BAAT,CAAoCQ,SAApC,EAA+C;AACpD,MAAIO,cAAc,EAAlB;;AAEAjB,mBAAiBU,SAAjB,EAA4B,aAAK;AAC/B,QAAIQ,EAAEC,iBAAF,IAAuBD,EAAEC,iBAAF,CAAoBC,MAA/C,EAAuD;AACrDH,oBAAcA,YAAYI,MAAZ,CAAmBH,EAAEC,iBAArB,CAAd;AACD;AACF,GAJD;;AAMA,SAAOF,WAAP;AACD,C;;;;;;;;;;;;QCzGeK,Y,GAAAA,Y;QASAC,U,GAAAA,U;AATT,SAASD,YAAT,CAAsBE,cAAtB,EAAsC;AAC3C,MAAIA,eAAeC,wBAAnB,EAA6C;AAC3CC,iBAAaF,eAAeC,wBAA5B;AACA,WAAOD,eAAeC,wBAAtB;AACD;;AAED,SAAOD,eAAeG,iBAAtB;AACD;;AAEM,SAASJ,UAAT,CAAoBC,cAApB,EAAoCI,QAApC,EAA8C;AACnD,MAAI,CAACJ,eAAeK,KAApB,EAA2B;AACzBL,mBAAeK,KAAf,GAAuBD,QAAvB;AACA;AACD;;AAEDJ,iBAAeG,iBAAf,GAAmCH,eAAeG,iBAAf,IAAoC,EAAvE;AACAH,iBAAeG,iBAAf,GAAmCG,OAAOC,MAAP,CAAcP,eAAeG,iBAA7B,EAAgDC,QAAhD,CAAnC;;AAEA,MAAIJ,eAAeC,wBAAnB,EAA6C;AAC3C;AACD;;AAEDD,iBAAeC,wBAAf,GAA0CO,WAAW,YAAM;AACzDR,mBAAeC,wBAAf,GAA0C,CAA1C;AACAD,mBAAeS,QAAf,CAAwBT,eAAeG,iBAAvC;AACA,WAAOH,eAAeG,iBAAtB;AACD,GAJyC,EAIvC,CAJuC,CAA1C;AAKD,C;;;;;;;;;;;;kBCjBuBO,M;AAVxB;;;;;;;;;;AAUe,SAASA,MAAT,CAAgBxB,SAAhB,EAA2ByB,UAA3B,EAA6F;AAAA,iFAAJ,EAAI;AAAA,0BAApDC,OAAoD;AAAA,MAApDA,OAAoD,gCAA1C,WAA0C;AAAA,2BAA7BzB,QAA6B;AAAA,MAA7BA,QAA6B,iCAAlB0B,SAAkB;;AAC1G,MAAIC,2BAAJ;;AAEA,MAAI5B,UAAU6B,iBAAd,EAAiC;AAC/BD,yBAAqB5B,UAAU6B,iBAAV,CAA4BC,IAA5B,CAAiC9B,SAAjC,CAArB;AACD;;AAEDA,YAAUS,iBAAV,GAA8BT,UAAUS,iBAAV,IAA+B,EAA7D;AACAT,YAAUS,iBAAV,CAA4BL,IAA5B,CAAiCqB,UAAjC;;AAEAzB,YAAU6B,iBAAV,GAA8B,YAAM;AAClC,QAAI,CAAC7B,UAAU+B,IAAX,IAAmB,CAAC/B,UAAU+B,IAAV,CAAeL,OAAf,CAAxB,EAAiD;AAC/CM,cAAQC,IAAR,oEAA8EjC,UAAUkC,WAAV,CAAsBC,IAApG,sCAAwIT,OAAxI;;AAEA;AACD;;AAED,QAAIjC,UAAUO,UAAU+B,IAAV,CAAeL,OAAf,CAAd;;AAEAjC,YAAQgB,iBAAR,GAA4BhB,QAAQgB,iBAAR,IAA6B,EAAzD;AACAhB,YAAQgB,iBAAR,CAA0BL,IAA1B,CAA+BqB,UAA/B;;AAEAA,eAAWW,GAAX,GAAiB3C,OAAjB;;AAEA,QAAImC,kBAAJ,EAAwB;AACtBA;AACD;;AAED,QAAI3B,QAAJ,EAAc;AACZA;AACD;AACF,GArBD;AAsBD,C;;;;;;;;;;;;;;;QC9BeoC,U,GAAAA,U;QAiBAC,I,GAAAA,I;QA2CAC,M,GAAAA,M;;AAxEhB;;AACA;;AAEA;;;;;;;;;AASO,SAASF,UAAT,CAAoBG,SAApB,EAAoG;AAAA,MAArEC,YAAqE,uEAAtDd,SAAsD;AAAA,MAA3Ce,UAA2C,uEAA9B,IAA8B;AAAA,MAAxBC,cAAwB,uEAAP,KAAO;;AACzG,SAAO;AACLH,wBADK;AAELC,8BAFK;AAGLC,0BAHK;AAILC;AAJK,GAAP;AAMD;;AAED;;;;;;;;AAQO,SAASL,IAAT,CAAcxB,cAAd,EAA8B0B,SAA9B,EAAmE;AAAA,MAA1BC,YAA0B,uEAAXd,SAAW;;AACxE,MAAIpB,cAAc,sCAA2BO,cAA3B,CAAlB;AACA,MAAI8B,cAAJ;;AAEA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAItC,YAAYG,MAAhC,EAAwCmC,GAAxC,EAA6C;AAC3C,QAAIpB,aAAalB,YAAYsC,CAAZ,CAAjB;AACA,QAAIC,KAAKrB,WAAWsB,YAApB;;AAEA,QAAID,EAAJ,EAAQ;AACN,UAAIF,SAAQE,GAAGR,IAAH,CAAQE,SAAR,EAAmBC,YAAnB,CAAZ;;AAEA,UAAIG,MAAJ,EAAW;AACT,eAAOA,MAAP;AACD;AACF;AACF;;AAED,SAAO,IAAP;AACD;;AAED;;;;;;;;;;;;;;;;;;;;;;;AAuBO,SAASL,MAAT,CAAgBvC,SAAhB,EAA2BgD,OAA3B,EAAyD;AAAA,MAArBC,OAAqB,uEAAXtB,SAAW;;AAC9D,MAAIuB,4BAAJ;AAAA,MAAyBC,8BAAzB;;AAEA,MAAInD,UAAUoD,kBAAd,EAAkC;AAChCF,0BAAsBlD,UAAUoD,kBAAV,CAA6BtB,IAA7B,CAAkC9B,SAAlC,CAAtB;AACD;;AAED,MAAIA,UAAUqD,oBAAd,EAAoC;AAClCF,4BAAwBnD,UAAUqD,oBAAV,CAA+BvB,IAA/B,CAAoC9B,SAApC,CAAxB;AACD;;AAED,MAAIA,UAAUmB,KAAV,KAAoBQ,SAAxB,EAAmC;AACjC3B,cAAUmB,KAAV,GAAkB,EAAlB;AACD;;AAED,MAAIZ,oBAAJ;AACA,MAAI+C,MAAM,EAAV;;AAEAtD,YAAUqD,oBAAV,GAAiC,YAAM;AACrC,kCAAarD,SAAb;;AAEA;;;AAGAsD,QAAIhD,OAAJ,CAAY,mBAAW;AACrBiD,cAAQT,EAAR,CAAWU,OAAX,CAAmBD,QAAQf,SAA3B,EAAsCe,QAAQd,YAA9C,EAA4Dc,QAAQE,aAApE;AACD,KAFD;;AAIA,QAAIN,qBAAJ,EAA2B;AACzBA;AACD;AACF,GAbD;;AAeAnD,YAAUoD,kBAAV,GAA+B,YAAM;AACnC7C,kBAAc,sCAA2BP,SAA3B,CAAd;;AAEA,QAAI,CAACO,YAAYG,MAAjB,EAAyB;AACvBsB,cAAQ0B,KAAR,qFAAgG1D,UAAUkC,WAAV,CAAsBC,IAAtH,mDAA0Ka,OAA1K,EAAmLhD,SAAnL;;AAEA;AACD;;AAEDgD,cAAUA,mBAAmBW,KAAnB,GAA2BX,OAA3B,GAAqC,CAACA,OAAD,CAA/C;;AAEAA,YAAQ1C,OAAR,CAAgB,iBAAS;AACvB,UAAIsD,cAAc,EAAlB;;AAEArD,kBAAYD,OAAZ,CAAoB,sBAAc;AAChC,YAAIwC,KAAKrB,WAAWsB,YAApB;;AAEA,YAAID,EAAJ,EAAQ;AAAA;AACN,gBAAIe,QAAQf,GAAGR,IAAH,CAAQwB,MAAMtB,SAAd,CAAZ;;AAEA,gBAAI,CAACqB,KAAL,EAAY;AACV;AAAA;AAAA;AACD;;AAEDD,wBAAYxD,IAAZ,CAAiByD,KAAjB;;AAEA,gBAAID,YAAYlD,MAAZ,GAAqB,CAAzB,EAA4B;AAC1BsB,sBAAQC,IAAR,qEAA8EjC,UAAUkC,WAAV,CAAsBC,IAApG,sBAA0H2B,KAA1H,2BAA0JF,WAA1J;AACD;;AAED;AACA;AACA;AACA,gBAAIG,IAAI,EAAR;AACAA,cAAED,MAAME,WAAN,IAAqBH,MAAM1B,IAA7B,IAAqC0B,KAArC;AACA,wCAAW7D,SAAX,EAAsB+D,CAAtB;;AAEA,gBAAInB,cAAJ;AAAA,gBAAWa,sBAAX;;AAEA;AACA,gBAAIK,MAAMrB,YAAV,EAAwB;;AAEtB,kBAAIwB,KAAKH,MAAMrB,YAAN,YAA8BkB,KAA9B,GAAsCG,MAAMrB,YAA5C,GAA2D,CAACqB,MAAMrB,YAAP,CAApE;;AAEA;AACAgB,8BAAgB,UAAUK,KAAV,EAAiBI,OAAjB,EAA0B;AACxC,oBAAIC,aAAalB,UAAUA,QAAQiB,OAAR,CAAV,GAA6BvC,SAA9C;;AAEA,oBAAIwC,eAAexC,SAAf,IAA4BmC,MAAMpB,UAAtC,EAAkD;AAAA;AAChD,wBAAIxB,WAAW,EAAf;;AAEAgD,4BAAQ5D,OAAR,CAAgB,kBAAU;AACxB,0BAAIa,QAAQ,EAAZ;AACF,0BAAIiD,OAAOC,OAAOR,KAAP,CAAa1B,IAAxB;;AAEA,0BAAI2B,MAAME,WAAV,EAAuB;AACrBI,+BAAON,MAAME,WAAb,CADqB,CACK;AAC3B,uBAAC,IAAIK,OAAOC,WAAX,EAAwB;AACxB,4BAAI;AACF,8BAAIP,KAAIM,OAAOC,WAAP,CAAmBC,KAAnB,CAAyB,GAAzB,CAAR;AACAH,iCAAOL,GAAEA,GAAErD,MAAF,GAAW,CAAb,CAAP;AACD,yBAHD,CAGE,OAAOgD,KAAP,EAAc;AACd1B,kCAAQ0B,KAAR,kFAA+FW,OAAOC,WAAtG;AACD;AACF;;AAEDnD,4BAAMiD,IAAN,IAAcC,OAAOG,YAArB;;AAEAtD,iCAAWE,OAAOC,MAAP,CAAcH,QAAd,EAAwBC,KAAxB,CAAX;AACD,qBAlBC;;AAoBA,gDAAWnB,SAAX,EAAsBkB,QAAtB;AAvBgD;AAwBjD;AACF,eA5Be,CA4BdY,IA5Bc,CA4BTH,SA5BS,EA4BEmC,KA5BF,CAAhB;;AA8BAG,iBAAG3D,OAAH,CAAW,wBAAgB;AACzBsC,wBAAQE,GAAGR,IAAH,CAAQwB,MAAMtB,SAAd,EAAyBC,YAAzB,CAAR;;AAEAa,oBAAIlD,IAAJ,CAAS;AACP0C,wBADO;AAEPN,6BAAWsB,MAAMtB,SAFV;AAGPC,4CAHO;AAIPgB;AAJO,iBAAT;;AAOAX,mBAAGgB,KAAH,CAASA,MAAMtB,SAAf,EAA0BC,YAA1B,EAAwCgB,aAAxC;;AAEA,oBAAIA,aAAJ,EAAmB;AACjBA,gCAAc,CAAC;AACbI,gCADa;AAEbjB,gCAFa;AAGb0B,iCAAa7B,YAHA;AAIb+B,kCAAc5B;AAJD,mBAAD,CAAd;AAMD;AACF,eApBD;AAqBD;AA/EK;;AAAA;AAgFP;AACF,OApFD;;AAsFA,UAAI,CAACgB,YAAYlD,MAAjB,EAAyB;AACvBsB,gBAAQ0B,KAAR,uCAAoDI,MAAMtB,SAAN,CAAgBL,IAApE,oDAA4HnC,UAAUkC,WAAV,CAAsBC,IAAlJ,EAAwJnC,SAAxJ,6FAA8PO,WAA9P;AACD;AACF,KA5FD;;AA8FA,QAAI2C,mBAAJ,EAAyB;AACvBA;AACD;AACF,GA5GD;AA6GD,C;;;;;;;;;;;;kBCpNuBY,K;;AAFxB;;AAEe,SAASA,KAAT,CAAehD,cAAf,EAA+B+C,KAA/B,EAAsC5D,QAAtC,EAAgD;AAC7D,MAAI4D,KAAJ,EAAW;AAAA;AACT,UAAI,CAACA,MAAMC,KAAX,EAAkB;AAChB,cAAM,IAAIW,KAAJ,sEAA4EZ,KAA5E,QAAN;AACD;;AAED,UAAIV,wBAAwBrC,eAAeuC,oBAAf,GAAsCvC,eAAeuC,oBAAf,CAAoCvB,IAApC,CAAyChB,cAAzC,CAAtC,GAAiGa,SAA7H;;AAEA,UAAIsB,UAAU,SAAVA,OAAU,CAACyB,IAAD,EAAU;AACtB,YAAIC,WAAJ;;AAEA,YAAI1E,QAAJ,EAAc;AACZ0E,eAAK1E,SAAS2E,KAAT,CAAejD,SAAf,EAA0B,CAAC+C,IAAD,CAA1B,CAAL;AACD;;AAED,YAAIC,OAAOhD,SAAX,EAAsB;AACpB,cAAIkD,KAAI,EAAR;AACAA,aAAEhB,MAAM1B,IAAR,IAAgB0B,KAAhB;AACA,sCAAW/C,cAAX,EAA2B+D,EAA3B;AACD;AACF,OAZD;;AAcA/D,qBAAeuC,oBAAf,GAAsC,YAAM;AAC1C,sCAAavC,cAAb;;AAEA+C,cAAML,OAAN,CAAcP,OAAd;;AAEA,YAAIE,qBAAJ,EAA2B;AACzBA;AACD;AACF,OARD;;AAUAU,YAAMC,KAAN,CAAYb,OAAZ;;AAEA;AACA,UAAI4B,IAAI,EAAR;AACAA,QAAEhB,MAAM1B,IAAR,IAAgB0B,KAAhB;;AAEA,kCAAW/C,cAAX,EAA2B+D,CAA3B;AArCS;AAsCV;AACF,C;;;;;;;;;;;;;;AC1CD;;;;AACA;;;;AACA;;AACA;;;;QAEQrD,M;QACNe,M;QACAF,U;QACA/C,gB;QACAgD,I;QACA9C,0B;QACAsE,K;QACA1E,8B;QACAC,qC;kBAEa;AACbmC,0BADa;AAEbe,wBAFa;AAGbF,gCAHa;AAIb/C,0CAJa;AAKbgD,oBALa;AAMb9C,8DANa;AAObsE;AAPa,C","file":"react-ringa.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"React Ringa\"] = factory();\n\telse\n\t\troot[\"React Ringa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap df646935938d98cbf92d","/**\n * Walks the dom ancestors until it finds the nearest dom node that has a ref to a React Component and then\n * returns that React Component.\n *\n * @param domNode The DOM node to start with.\n * @returns {*}\n */\nexport function domNodeToNearestReactComponent(domNode) {\n  while (domNode) {\n    for (let key in domNode) {\n      if (key.startsWith('__reactInternalInstance$')) {\n        return domNode[key]._currentElement._owner._instance;\n      }\n    }\n\n    domNode = domNode.parentNode;\n  }\n\n  return null;\n}\n\n/**\n * Walks the dom ancestors until it finds the nearest dom node that has a ref to a React Component and then returns\n * that dom node.\n *\n * @param domNode The DOM node to start with.\n * @returns {*}\n */\nexport function domNodeToNearestReactComponentDomNode(domNode) {\n  while (domNode) {\n    for (let key in domNode) {\n      if (key.startsWith('__reactInternalInstance$')) {\n        return domNode;\n      }\n    }\n\n    domNode = domNode.parentNode;\n  }\n\n  return null;\n}\n\n/**\n * Walks the React Components up through the parent heirarchy.\n *\n * @param component A React Component instance.\n * @param callback A callback to call for each component in the ancestors.\n */\nexport function walkReactParents(component, callback) {\n  let ancestors = [];\n\n  if (component._reactInternalInstance) {\n    ancestors.push(component);\n\n    component = component._reactInternalInstance;\n  }\n\n  while (component) {\n    ancestors.push(component);\n\n    if (component._reactInternalInstance) {\n      component = component._reactInternalInstance;\n    }\n\n    try {\n      component = component._currentElement._owner._instance;\n    } catch (e) {\n      component = null;\n    }\n  }\n\n  if (callback) {\n    ancestors.forEach(callback);\n  }\n\n  return ancestors;\n};\n\n/**\n * Returns all Ringa.Controller instances that exist in the ancestor tree.\n *\n * @param component A React Component instance.\n * @returns {Array}\n */\nexport function getAllReactComponentAncestors(component) {\n  return walkReactParents(component);\n}\n\n/**\n * Returns all Ringa.Controller instances that will hear when you dispatch an event from any of the provided React component's\n * DOM nodes or its descendants.\n *\n * @param component A React Component instance.\n * @returns {Array}\n */\nexport function getAllListeningControllers(component) {\n  let controllers = [];\n\n  walkReactParents(component, c => {\n    if (c.$ringaControllers && c.$ringaControllers.length) {\n      controllers = controllers.concat(c.$ringaControllers);\n    }\n  });\n\n  return controllers;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","export function unqueueState(reactComponent) {\n  if (reactComponent.__ringaStateQueueTimeout) {\n    clearTimeout(reactComponent.__ringaStateQueueTimeout);\n    delete reactComponent.__ringaStateQueueTimeout;\n  }\n\n  delete reactComponent.__ringaStateQueue;\n}\n\nexport function queueState(reactComponent, newState) {\n  if (!reactComponent.state) {\n    reactComponent.state = newState;\n    return;\n  }\n\n  reactComponent.__ringaStateQueue = reactComponent.__ringaStateQueue || {};\n  reactComponent.__ringaStateQueue = Object.assign(reactComponent.__ringaStateQueue, newState);\n\n  if (reactComponent.__ringaStateQueueTimeout) {\n    return;\n  }\n\n  reactComponent.__ringaStateQueueTimeout = setTimeout(() => {\n    reactComponent.__ringaStateQueueTimeout = 0;\n    reactComponent.setState(reactComponent.__ringaStateQueue);\n    delete reactComponent.__ringaStateQueue;\n  }, 0);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/queueState.js","/**\n * This function attaches a Ringa Controller to a specific React.Component and a selected DOM node within that component.\n *\n * Note that a Ringa controller is attached to a React Component when componentDidMount is called on the component.\n *\n * @param component The React Component to attach to.\n * @param controller The Ringa Controller to attach when a DOM node is available.\n * @param refName The React component reference name.\n * @param callback The function to call whenever the controller has been attached.\n */\nexport default function attach(component, controller, { refName = 'ringaRoot', callback = undefined } = {}) {\n  let _componentDidMount;\n\n  if (component.componentDidMount) {\n    _componentDidMount = component.componentDidMount.bind(component);\n  }\n\n  component.$ringaControllers = component.$ringaControllers || [];\n  component.$ringaControllers.push(controller);\n\n  component.componentDidMount = () => {\n    if (!component.refs || !component.refs[refName]) {\n      console.warn(`attach(): Error attaching Ringa Controller to React Component ${component.constructor.name}. Component reference named '${refName}' does not exist.`);\n\n      return;\n    }\n\n    let domNode = component.refs[refName];\n\n    domNode.$ringaControllers = domNode.$ringaControllers || [];\n    domNode.$ringaControllers.push(controller);\n\n    controller.bus = domNode;\n\n    if (_componentDidMount) {\n      _componentDidMount();\n    }\n\n    if (callback) {\n      callback();\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/attach.js","import {queueState, unqueueState} from './queueState';\nimport {getAllListeningControllers} from './util';\n\n/**\n * Builds a dependency object for use with the depend function.\n *\n * @param classOrId A Class that extends Ringa.Model or a string id of a model you are looking for.\n * @param propertyPath A dot-delimited path into a property on the model. Or undefined if you want the model itself.\n * @param setOnState When true (default), the property will be set on the state of the component, forcing an update.\n *\n * @returns {{classOrId: *, propertyPath: *, setOnState: boolean}}\n */\nexport function dependency(classOrId, propertyPath = undefined, setOnState = true, setOnComponent = false) {\n  return {\n    classOrId,\n    propertyPath,\n    setOnState,\n    setOnComponent\n  };\n}\n\n/**\n * Finds a Ringa.Model or a specific property, given the context of the provided React Component.\n *\n * @param reactComponent A React Component instance.\n * @param classOrId A Class that extends Ringa.Model or a string id of a model you are looking for.\n * @param propertyPath A dot-delimited path into a property on the model. Or undefined if you want the model itself.\n * @returns {*}\n */\nexport function find(reactComponent, classOrId, propertyPath = undefined) {\n  let controllers = getAllListeningControllers(reactComponent);\n  let value;\n\n  for (let i = 0; i < controllers.length; i++) {\n    let controller = controllers[i];\n    let mw = controller.modelWatcher;\n\n    if (mw) {\n      let value = mw.find(classOrId, propertyPath);\n\n      if (value) {\n        return value;\n      }\n    }\n  }\n\n  return null;\n}\n\n/**\n * Listens for changes on the provided React Component anywhere in its ancestor tree of Controllers for the requested Ringa.Model and,\n * if desired specific property path, changes. See getAllListeningControllers for information on the controllers and their models\n * that this will depend upon.\n *\n * Example:\n *\n * import {depend, dependency} from 'react-ringa';\n *\n * class MyComponent extends React.Component {\n *   constructor() {\n *     super();\n *\n *     depend(this, dependency('myModelId', 'some.property'));\n *   }\n * }\n *\n * @param component A React Component instance.\n * @param watches An individual or Array of dependency objects. See\n * @param handler A function to callback immediately with all the dependencies that are found right now.\n *\n * @returns {Array}\n */\nexport function depend(component, watches, handler = undefined) {\n  let _componentWillMount, _componentWillUnmount;\n\n  if (component.componentWillMount) {\n    _componentWillMount = component.componentWillMount.bind(component);\n  }\n\n  if (component.componentWillUnmount) {\n    _componentWillUnmount = component.componentWillUnmount.bind(component);\n  }\n\n  if (component.state === undefined) {\n    component.state = {};\n  }\n\n  let controllers;\n  let mws = [];\n\n  component.componentWillUnmount = () => {\n    unqueueState(component);\n\n    /**\n     * When the component unmounts we want to unwatch everything.\n     */\n    mws.forEach(mwGroup => {\n      mwGroup.mw.unwatch(mwGroup.classOrId, mwGroup.propertyPath, mwGroup.changeHandler);\n    });\n\n    if (_componentWillUnmount) {\n      _componentWillUnmount();\n    }\n  };\n\n  component.componentWillMount = () => {\n    controllers = getAllListeningControllers(component);\n\n    if (!controllers.length) {\n      console.error(`react-ringa depend(): could not find any Ringa Controllers in the ancestors of ${component.constructor.name}, the following dependencies will NOT work: `, watches, component);\n\n      return;\n    }\n\n    watches = watches instanceof Array ? watches : [watches];\n\n    watches.forEach(watch => {\n      let foundModels = [];\n\n      controllers.forEach(controller => {\n        let mw = controller.modelWatcher;\n\n        if (mw) {\n          let model = mw.find(watch.classOrId);\n\n          if (!model) {\n            return;\n          }\n\n          foundModels.push(model);\n\n          if (foundModels.length > 1) {\n            console.warn(`depend(): found two models while looking for a dependency on '${component.constructor.name}'! Watch is:\\n`, watch, `found these models:\\n`, foundModels, `depend() looks for the closest model it can find that matches the watch criteria. This means you might have a serious error in your stack. Proceeding as normal.`);\n          }\n\n          // By default the model we are requesting automatically gets set on the state no matter what for\n          // easy access. However, we don't watch the entire model because that would be silliness. Each view\n          // component should request the specific signals it wants to watch.\n          let s = {};\n          s[watch.setProperty || model.name] = model;\n          queueState(component, s);\n\n          let value, changeHandler;\n\n          // If the user is just asking for the model (no propertyPath), we can skip all the watching jargon.\n          if (watch.propertyPath) {\n\n            let pp = watch.propertyPath instanceof Array ? watch.propertyPath : [watch.propertyPath];\n\n            // Create Change Handler. Note we do not use an arrow function here to save memory.\n            changeHandler = function (watch, changes) {\n              let skipUpdate = handler ? handler(changes) : undefined;\n\n              if (skipUpdate === undefined && watch.setOnState) {\n                let newState = {};\n\n                changes.forEach(change => {\n                  let state = {};\n                let prop = change.model.name;\n\n                if (watch.setProperty) {\n                  prop = watch.setProperty; // Can specify a custom property in the dependency to set on the state for each change.\n                } if (change.watchedPath) {\n                  try {\n                    let s = change.watchedPath.split('.');\n                    prop = s[s.length - 1];\n                  } catch (error) {\n                    console.error(`depend(): property was updated but watched path was invalid. watchedPath was:`, change.watchedPath);\n                  }\n                }\n\n                state[prop] = change.watchedValue;\n\n                newState = Object.assign(newState, state);\n              });\n\n                queueState(component, newState);\n              }\n            }.bind(undefined, watch);\n\n            pp.forEach(propertyPath => {\n              value = mw.find(watch.classOrId, propertyPath);\n\n              mws.push({\n                mw,\n                classOrId: watch.classOrId,\n                propertyPath,\n                changeHandler\n              });\n\n              mw.watch(watch.classOrId, propertyPath, changeHandler);\n\n              if (changeHandler) {\n                changeHandler([{\n                  model,\n                  value,\n                  watchedPath: propertyPath,\n                  watchedValue: value\n                }]);\n              }\n            });\n          }\n        }\n      });\n\n      if (!foundModels.length) {\n        console.error(`depend(): could not find the model`, watch.classOrId.name, `in any ancestor Controllers of React component`, component.constructor.name, component, `during the componentDidMount() phase. Found these instantiated and attached controllers`, controllers);\n      }\n    });\n\n    if (_componentWillMount) {\n      _componentWillMount();\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/depend.js","import {queueState, unqueueState} from './queueState';\n\nexport default function watch(reactComponent, model, callback) {\n  if (model) {\n    if (!model.watch) {\n      throw new Error(`react-ringa watch(): the provided object is not a Ringa Model '${model}'`);\n    }\n\n    let _componentWillUnmount = reactComponent.componentWillUnmount ? reactComponent.componentWillUnmount.bind(reactComponent) : undefined;\n\n    let handler = (path) => {\n      let fu;\n\n      if (callback) {\n        fu = callback.apply(undefined, [path]);\n      }\n\n      if (fu === undefined) {\n        let o = {};\n        o[model.name] = model;\n        queueState(reactComponent, o);\n      }\n    };\n\n    reactComponent.componentWillUnmount = () => {\n      unqueueState(reactComponent);\n\n      model.unwatch(handler);\n\n      if (_componentWillUnmount) {\n        _componentWillUnmount();\n      }\n    };\n\n    model.watch(handler);\n\n    // Initial setup\n    let o = {};\n    o[model.name] = model;\n\n    queueState(reactComponent, o);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/watch.js","import attach from './attach';\nimport watch from './watch';\nimport {depend, dependency, find} from './depend';\nimport {walkReactParents, getAllListeningControllers, domNodeToNearestReactComponent, domNodeToNearestReactComponentDomNode} from './util';\n\nexport {attach,\n  depend,\n  dependency,\n  walkReactParents,\n  find,\n  getAllListeningControllers,\n  watch,\n  domNodeToNearestReactComponent,\n  domNodeToNearestReactComponentDomNode};\n\nexport default {\n  attach,\n  depend,\n  dependency,\n  walkReactParents,\n  find,\n  getAllListeningControllers,\n  watch\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}