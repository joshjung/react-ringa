{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c97af1dcf8d4ea50389d","webpack:///./src/util.js","webpack:///./src/queueState.js","webpack:///./src/attach.js","webpack:///./src/depend.js","webpack:///./src/watch.js","webpack:///./src/index.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\",\"umd\":\"react\"}","webpack:///external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\",\"umd\":\"react-dom\"}","webpack:///external {\"root\":\"Ringa\",\"commonjs2\":\"ringa\",\"commonjs\":\"ringa\",\"amd\":\"ringa\",\"umd\":\"ringa\"}"],"names":["domNodeToNearestReactComponent","domNodeToNearestReactComponentDomNode","walkReactParents","getAllReactComponentAncestors","getAllListeningControllers","findComponentRoot","domNode","key","startsWith","version","curFiber","stateNode","Component","return","_currentElement","_owner","_instance","parentNode","component","callback","_reactInternalFiber","_walkReactParents16","_walkReactParents15","ancestors","fiber","item","indexOf","push","$ringaAlternateParentComponent","forEach","_reactInternalInstance","_hostParent","controllers","parents","c","$ringaControllers","length","concat","refName","refs","findDOMNode","console","warn","constructor","name","unqueueState","queueState","reactComponent","__ringaStateQueueTimeout","clearTimeout","__ringaStateQueue","newState","inComponentWillMount","state","updater","isMounted","ns","Object","assign","setTimeout","before","Date","getTime","setState","$ringaTriggerProperties","keys","error","attach","controllerOrModel","undefined","bus","_componentDidMount","_componentWillUnmount","controller","addModel","componentDidMount","bind","componentWillUnmount","postMountFunction","doNotCallMount","mounted","ix","splice","dependency","find","depend","classOrId","propertyPaths","setOnState","setOnComponent","setStateAs","propertyPath","value","i","mw","modelWatcher","watches","handler","debug","_componentWillMount","componentWillMount","mws","mwGroup","unwatch","changeHandler","__DEV__","log","Array","foundModels","model","watch","s","pp","changes","skipUpdate","change","propertyObj","watchedValue","watchedPath","endsWith","initial","watchedModel","properties","prop","signalPath","split","pop","signalValue","propertyPathObj","signals","Error","$watches","curHandler","id","signal","descriptor","path","fu","found","subSignal","_signal","apply","o"],"mappings":"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","file":"react-ringa.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"), require(\"ringa\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\", \"ringa\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"React Ringa\"] = factory(require(\"react\"), require(\"react-dom\"), require(\"ringa\"));\n\telse\n\t\troot[\"React Ringa\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"Ringa\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c97af1dcf8d4ea50389d","import ReactDOM from 'react-dom';\nimport React from 'react';\n\n/**\n * Walks the dom ancestors until it finds the nearest dom node that has a ref to a React Component and then\n * returns that React Component.\n *\n * @param domNode The DOM node to start with.\n * @returns {*}\n */\nexport function domNodeToNearestReactComponent(domNode) {\n  while (domNode) {\n    for (let key in domNode) {\n      if (key.startsWith('__reactInternalInstance$')) {\n        // Please don't judge me when you read this code.\n\n        if (React.version.startsWith('16')) {\n          // In React Fiber, every node in the tree (including dom nodes) is represented in the Fiber tree. So we\n          // have to search through all the parents to find the first one that has a stateNode that is a React Component\n          let curFiber = domNode[key];\n\n          while (curFiber && !(curFiber.stateNode instanceof React.Component)) {\n            curFiber = curFiber.return;\n          }\n\n          return curFiber.stateNode;\n        }\n\n        // React 15\n        return domNode[key]._currentElement._owner._instance;\n      }\n    }\n\n    domNode = domNode.parentNode;\n  }\n\n  return null;\n}\n\n/**\n * Walks the dom ancestors until it finds the nearest dom node that has a ref to a React Component and then returns\n * that dom node.\n *\n * @param domNode The DOM node to start with.\n * @returns {*}\n */\nexport function domNodeToNearestReactComponentDomNode(domNode) {\n  while (domNode) {\n    for (let key in domNode) {\n      if (key.startsWith('__reactInternalInstance$')) {\n        return domNode;\n      }\n    }\n\n    domNode = domNode.parentNode;\n  }\n\n  return null;\n}\n\n/**\n * Walks the React Components up through the parent heirarchy.\n *\n * @param component A React Component instance.\n * @param callback A callback to call for each component in the ancestors.\n */\nexport function walkReactParents(component, callback) {\n  if (component._reactInternalFiber) {\n    return _walkReactParents16(component, callback);\n  } else {\n    return _walkReactParents15(component, callback);\n  }\n}\n\nfunction _walkReactParents16(component, callback) {\n  let ancestors = [];\n\n  let fiber = component._reactInternalFiber;\n\n  while (fiber) {\n    let item = fiber.stateNode;\n\n    if (item && item instanceof React.Component) {\n      if (ancestors.indexOf(item) === -1) {\n        ancestors.push(item);\n      }\n    }\n\n    if (item && item.$ringaAlternateParentComponent) {\n      item = item.$ringaAlternateParentComponent;\n      ancestors.push(item);\n      fiber = item._reactInternalFiber;\n    } else {\n      fiber = fiber.return; // return is the parent node, go figure (ask Facebook)\n    }\n  }\n\n  if (callback) {\n    ancestors.forEach(callback);\n  }\n\n  return ancestors;\n}\n\n\nfunction _walkReactParents15(component, callback) {\n  let ancestors = [];\n\n  component = component._reactInternalInstance;\n\n  while (component) {\n    let item = component._instance || component._currentElement._owner._instance;\n\n    if (ancestors.indexOf(item) === -1) {\n      ancestors.push(item);\n    }\n\n    if (item.$ringaAlternateParentComponent) {\n      component = item.$ringaAlternateParentComponent._reactInternalInstance;\n    } else {\n      component = component._hostParent;\n    }\n  }\n\n  if (callback) {\n    ancestors.forEach(callback);\n  }\n\n  return ancestors;\n}\n\n/**\n * Returns all Ringa.Controller instances that exist in the ancestor tree.\n *\n * @param component A React Component instance.\n * @returns {Array}\n */\nexport function getAllReactComponentAncestors(component) {\n  return walkReactParents(component);\n}\n\n/**\n * Returns all Ringa.Controller instances that will hear when you dispatch an event from any of the provided React component's\n * DOM nodes or its descendants.\n *\n * @param component A React Component instance.\n * @returns {Array}\n */\nexport function getAllListeningControllers(component) {\n  let controllers = [];\n  let parents = [];\n\n  walkReactParents(component, c => {\n    parents.push(c);\n    if (c.$ringaControllers && c.$ringaControllers.length) {\n      controllers = controllers.concat(c.$ringaControllers);\n    }\n  });\n\n  return controllers;\n}\n\nexport function findComponentRoot(component, refName) {\n  let domNode;\n\n  // First look for a ref to attach to...\n  if (!component.refs || !component.refs[refName]) {\n    // Second use react-dom to find the root node for the component...\n\n    domNode = ReactDOM.findDOMNode(component);\n\n    if (!domNode) {\n      console.warn(`attach(): Error finding root DOM node for React Component ${component.constructor.name}. Component ref named '${refName}' does not exist and ReactDOM findDomNode(component) did not return anything. This can happen if the render() method returns null or undefined.`);\n    }\n\n    return domNode;\n  } else {\n    domNode = component.refs[refName];\n  }\n\n  return domNode;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","export function unqueueState(reactComponent) {\n  if (reactComponent.__ringaStateQueueTimeout) {\n    clearTimeout(reactComponent.__ringaStateQueueTimeout);\n    delete reactComponent.__ringaStateQueueTimeout;\n  }\n\n  delete reactComponent.__ringaStateQueue;\n}\n\nexport function queueState(reactComponent, newState, inComponentWillMount = false) {\n  if (!reactComponent.state) {\n    reactComponent.state = newState;\n    return;\n  }\n\n  if (!reactComponent.updater.isMounted(reactComponent)) {\n    if (inComponentWillMount) {\n      for (let key in newState) {\n        reactComponent.state[key] = newState[key];\n      }\n    } else {\n      let ns = Object.assign(newState, reactComponent.state);\n      reactComponent.state = ns;\n    }\n\n    return;\n  }\n\n  reactComponent.__ringaStateQueue = reactComponent.__ringaStateQueue || {};\n  reactComponent.__ringaStateQueue = Object.assign(reactComponent.__ringaStateQueue, newState);\n\n  if (reactComponent.__ringaStateQueueTimeout) {\n    return;\n  }\n\n  reactComponent.__ringaStateQueueTimeout = setTimeout(() => {\n    let before;\n    if (__DEV__) {\n      before = new Date().getTime();\n    }\n    reactComponent.__ringaStateQueueTimeout = 0;\n    reactComponent.setState(reactComponent.__ringaStateQueue);\n    if (__DEV__) {\n      if (new Date().getTime() - before > 100) {\n        console.warn('react-ringa __DEV__: component update took longer than 100 milliseconds, consider improving the following component:', reactComponent, 'newState being assigned was: ', newState);\n      }\n      try {\n        reactComponent.$ringaTriggerProperties = Object.keys(reactComponent.__ringaStateQueue);\n      } catch (error) { /* TODO this was crashing... sometimes. don't really care about an error for a debugging feature too much. */}\n    }\n    delete reactComponent.__ringaStateQueue;\n  }, 0);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/queueState.js","import {findComponentRoot} from './util';\nimport {Controller, Model} from 'ringa';\n\n/**\n * This function attaches a Ringa Controller or Model to a specific React.Component and a selected DOM node within that component.\n *\n * Note that a Ringa controller is attached to a React Component when componentDidMount is called on the component.\n *\n * If you provide a Ringa Model, then a dummy Controller is built and the Model is added to that controller before the Controller is\n * attached to the view.\n *\n * @param component The React Component to attach to.\n * @param controller The Ringa Controller to attach when a DOM node is available.\n * @param refName The React component reference name.\n * @param callback The function to call whenever the controller has been attached.\n */\nexport default function attach(component, controllerOrModel, { refName = 'ringaRoot', callback = undefined, bus = undefined } = {}) {\n  let _componentDidMount, _componentWillUnmount;\n\n  let controller;\n\n  if (controllerOrModel instanceof Model) {\n    controller = new Controller();\n    controller.addModel(controllerOrModel);\n  } else {\n    controller = controllerOrModel;\n  }\n\n  if (component.componentDidMount) {\n    _componentDidMount = component.componentDidMount.bind(component);\n  }\n\n  if (component.componentWillUnmount) {\n    _componentWillUnmount = component.componentWillUnmount.bind(component);\n  }\n\n  component.$ringaControllers = component.$ringaControllers || [];\n  component.$ringaControllers.push(controller);\n\n  const postMountFunction = (doNotCallMount = false) => {\n    let domNode = findComponentRoot(component, refName);\n\n    if (bus) {\n      controller.bus = bus;\n    } else if (domNode) {\n      domNode.$ringaControllers = domNode.$ringaControllers || [];\n      domNode.$ringaControllers.push(controller);\n\n      controller.bus = domNode;\n    } else {\n      console.warn(`attach(): could not find domNode to set as bus for controller ${controller}`);\n    }\n\n    if (_componentDidMount && !doNotCallMount) {\n      _componentDidMount();\n    }\n\n    if (callback) {\n      callback();\n    }\n  };\n\n  component.componentDidMount = postMountFunction;\n\n  if (component.mounted) {\n    postMountFunction(true);\n  }\n\n  component.componentWillUnmount = () => {\n    let domNode = findComponentRoot(component, refName);\n    let ix;\n\n    if (domNode && domNode.$ringaControllers) {\n      ix = domNode.$ringaControllers.indexOf(controller);\n\n      domNode.$ringaControllers.splice(ix, 1);\n    }\n\n    ix = component.$ringaControllers.indexOf(controller);\n    component.$ringaControllers.splice(ix, 1);\n\n    if (_componentWillUnmount) {\n      _componentWillUnmount();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/attach.js","import {queueState, unqueueState} from './queueState';\nimport {getAllListeningControllers} from './util';\n\n/**\n * Builds a dependency object for use with the depend function.\n *\n * @param classOrId A Class that extends Ringa.Model or a string id of a model you are looking for.\n * @param propertyPath A dot-delimited path into a property on the model. Or undefined if you want the model itself.\n * @param setOnState When true (default), the property will be set on the state of the component, forcing an update.\n *\n * @returns {{classOrId: *, propertyPath: *, setOnState: boolean}}\n */\nexport function dependency(classOrId, propertyPaths = undefined, {setOnState = true, setStateAs = undefined, setOnComponent = false} = {setOnState: true, setOnComponent: false, setStateAs: undefined}) {\n  return {\n    classOrId,\n    propertyPaths,\n    setOnState,\n    setOnComponent,\n    setStateAs\n  };\n}\n\n/**\n * Finds a Ringa.Model or a specific property, given the context of the provided React Component.\n *\n * @param reactComponent A React Component instance.\n * @param classOrId A Class that extends Ringa.Model or a string id of a model you are looking for.\n * @param propertyPath A dot-delimited path into a property on the model. Or undefined if you want the model itself.\n * @returns {*}\n */\nexport function find(reactComponent, classOrId, propertyPath = undefined) {\n  let controllers = getAllListeningControllers(reactComponent);\n  let value;\n\n  for (let i = 0; i < controllers.length; i++) {\n    let controller = controllers[i];\n    let mw = controller.modelWatcher;\n\n    if (mw) {\n      let value = mw.find(classOrId, propertyPath);\n\n      if (value) {\n        return value;\n      }\n    }\n  }\n\n  return null;\n}\n\n/**\n * Listens for changes on the provided React Component anywhere in its ancestor tree of Controllers for the requested Ringa.Model and,\n * if desired specific property path, changes. See getAllListeningControllers for information on the controllers and their models\n * that this will depend upon.\n *\n * Example:\n *\n * import {depend, dependency} from 'react-ringa';\n *\n * class MyComponent extends React.Component {\n *   constructor() {\n *     super();\n *\n *     depend(this, dependency('myModelId', 'some.property'));\n *   }\n * }\n *\n * @param component A React Component instance.\n * @param watches An individual or Array of dependency objects. See\n * @param handler A function to callback immediately with all the dependencies that are found right now.\n *\n * @returns {Array}\n */\nexport function depend(component, watches, handler = undefined, debug = false) {\n  let _componentWillMount, _componentWillUnmount, _componentDidMount;\n\n  if (component.componentWillMount) {\n    _componentWillMount = component.componentWillMount.bind(component);\n  }\n\n  if (component.componentWillUnmount) {\n    _componentWillUnmount = component.componentWillUnmount.bind(component);\n  }\n\n  if (component.state === undefined) {\n    component.state = {};\n  }\n\n  let controllers;\n  let mws = [];\n\n  component.componentWillUnmount = () => {\n    unqueueState(component);\n\n    /**\n     * When the component unmounts we want to unwatch everything.\n     */\n    mws.forEach(mwGroup => {\n      mwGroup.mw.unwatch(mwGroup.classOrId, mwGroup.propertyPath, mwGroup.changeHandler);\n    });\n\n    if (_componentWillUnmount) {\n      _componentWillUnmount();\n    }\n  };\n\n  component.componentWillMount = () => {\n    let inComponentWillMount = true;\n    controllers = getAllListeningControllers(component);\n\n    if (!controllers.length) {\n      console.error(`react-ringa depend(): could not find any Ringa Controllers in the ancestors of ${component.constructor.name}, the following dependencies will NOT work: `, watches, component);\n\n      return;\n    }\n\n    if (__DEV__ && debug) {\n      console.log(`depend(${component}, ${watches}) found controllers:`, controllers);\n    }\n\n    watches = watches instanceof Array ? watches : [watches];\n\n    watches.forEach(watch => {\n      let foundModels = [];\n\n      controllers.forEach(controller => {\n        let mw = controller.modelWatcher;\n\n        if (mw) {\n          let model = mw.find(watch.classOrId);\n\n          if (!model) {\n            return;\n          }\n\n          foundModels.push(model);\n\n          if (__DEV__ && foundModels.length > 1) {\n            console.warn(`depend(): found two models while looking for a dependency on the '${component.constructor.name}' component! Watch is:\\n`, watch, `\\nFound these conflicting models during the search, all of which match:\\n`, foundModels, `\\ndepend() looks for the closest model in the DOM tree ancestors it can find that matches the watch criteria. This means you might have a problem in your stack. Proceeding normally with the first model in the list above. This might NOT be the right model and could cause errors. This error will not appear in production.`);\n\n            return;\n          }\n\n          // By default the model we are requesting automatically gets set on the state no matter what for\n          // easy access. However, we don't watch the entire model because that would be silliness. Each view\n          // component should request the specific signals it wants to watch.\n          let s = {};\n          s[watch.setStateAs || model.name] = model;\n          queueState(component, s, inComponentWillMount);\n\n          let value, changeHandler;\n\n          // If the user is just asking for the model (no propertyPath), we can skip all the watching jargon.\n          if (watch.propertyPaths) {\n\n            let pp = watch.propertyPaths instanceof Array ? watch.propertyPaths : [watch.propertyPaths];\n\n            // Create Change Handler. Note we do not use an arrow function here to save memory.\n            changeHandler = function (watch, changes) {\n              let skipUpdate = handler ? handler(changes) : undefined;\n\n              if (skipUpdate === undefined && watch.setOnState) {\n                let newState = {};\n\n                changes.forEach(change => {\n                  let state = {};\n\n                  if (change.propertyObj && change.propertyObj.setStateAs) {\n                    /**\n                     * IF dependency(MyModel, 'property', {setStateAs: 'someOtherPropertyName'})\n                     */\n                    state[change.propertyObj.setStateAs] = change.watchedValue;\n                  } else if (change.watchedPath) {\n                    /**\n                     * IF dependency(MyModel, 'property.*')\n                     */\n                    if (change.watchedPath.endsWith('*')) {\n                      /**\n                       * IF dependency(MyModel, 'property.*') AND the signal was directly from MyModel\n                       */\n                      if (change.initial) {\n                        // This only occurs on the initial depend, when no signals have yet been dispatched, so we\n                        // can prepopulate each value.\n                        change.watchedModel.properties.forEach(prop => {\n                          state[prop] = change.watchedModel[prop];\n                        });\n                      } else {\n                        state[change.signalPath.split('.').pop()] = change.signalValue;\n                      }\n                    } else {\n                      /**\n                       * IF dependency(MyModel, 'property')\n                       */\n                      let prop = change.watchedPath.split('.').pop();\n                      state[prop] = change.watchedValue;\n                    }\n                  } else {\n                    /**\n                     * IF dependency(MyModel)\n                     */\n                    state[change.watchedModel.name] = change.watchedValue;\n                  }\n\n                  newState = Object.assign(newState, state);\n                });\n\n                queueState(component, newState, inComponentWillMount);\n              }\n            }.bind(undefined, watch);\n\n            pp.forEach(propertyPath => {\n              let propertyPathObj;\n\n              if (typeof propertyPath === 'object') {\n                propertyPathObj = propertyPath;\n                propertyPath = propertyPathObj.propertyPath;\n              }\n\n              value = mw.find(watch.classOrId, propertyPath);\n\n              mws.push({\n                mw,\n                classOrId: watch.classOrId,\n                propertyPath,\n                propertyPathObj,\n                changeHandler\n              });\n\n              mw.watch(watch.classOrId, propertyPath, changeHandler);\n\n              if (changeHandler) {\n                changeHandler([{\n                  watchedModel: model,\n                  signalValue: value,\n                  watchedPath: propertyPath,\n                  watchedValue: value,\n                  propertyPathObj,\n                  initial: true\n                }]);\n              }\n            });\n          }\n        }\n      });\n\n      if (!foundModels.length) {\n        if (!watch.classOrId) {\n          console.error(`depend(): could not the model as it was not specified!`);\n        } else {\n          console.error(`depend(): could not find the model`, watch.classOrId.name, `in any ancestor Controllers of React component`, component.constructor.name, component, `during the componentDidMount() phase. Found these instantiated and attached controllers`, controllers);\n        }\n      }\n    });\n\n    if (_componentWillMount) {\n      _componentWillMount();\n    }\n\n    inComponentWillMount = false;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/depend.js","import {queueState, unqueueState} from './queueState';\n\nexport default function watch(reactComponent, model, signals = [], callback = undefined) {\n  if (model) {\n    if (!model.watch) {\n      throw new Error(`react-ringa watch(): the provided object is not a Ringa Model '${model}'`);\n    }\n\n    let _componentWillUnmount = reactComponent.componentWillUnmount ? reactComponent.componentWillUnmount.bind(reactComponent) : undefined;\n\n    reactComponent.$watches = reactComponent.$watches || {};\n\n    let curHandler = reactComponent.$watches[model.id];\n    if (curHandler) {\n      model.unwatch(curHandler);\n    }\n\n    let handler = reactComponent.$watches[model.id] = (signal, item, value, descriptor, path) => {\n      let fu;\n      let found = false;\n      signals.forEach(_signal => {\n        let subSignal = _signal.split('*')[0];\n\n        if (signal.startsWith(subSignal)) {\n          found = true;\n        }\n      });\n\n      if (!found && signals.length) {\n        return;\n      }\n\n      if (callback) {\n        fu = callback.apply(undefined, [signal, item, value, descriptor, path]);\n      }\n\n      if (fu === undefined) {\n        let o = {};\n        o[model.name] = model;\n        queueState(reactComponent, o);\n      }\n    };\n\n    let unwatch = () => {\n      unqueueState(reactComponent);\n\n      model.unwatch(handler);\n    };\n\n    reactComponent.componentWillUnmount = () => {\n      unwatch();\n\n      if (_componentWillUnmount) {\n        _componentWillUnmount();\n      }\n    };\n\n    model.watch(handler);\n\n    // Initial setup\n    let o = {};\n    o[model.name] = model;\n\n    queueState(reactComponent, o);\n\n    return unwatch;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/watch.js","import attach from './attach';\nimport watch from './watch';\n\nimport {depend, dependency, find} from './depend';\nimport {walkReactParents, getAllListeningControllers, domNodeToNearestReactComponent, domNodeToNearestReactComponentDomNode, getAllReactComponentAncestors} from './util';\n\nexport {attach,\n        depend,\n        dependency,\n        walkReactParents,\n        find,\n        getAllListeningControllers,\n        watch,\n        domNodeToNearestReactComponent,\n        getAllReactComponentAncestors,\n        domNodeToNearestReactComponentDomNode};\n\nexport default {\n  attach,\n  depend,\n  dependency,\n  walkReactParents,\n  find,\n  getAllListeningControllers,\n  watch,\n  domNodeToNearestReactComponent,\n  getAllReactComponentAncestors,\n  domNodeToNearestReactComponentDomNode\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\",\"umd\":\"react\"}\n// module id = 6\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\",\"umd\":\"react-dom\"}\n// module id = 7\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"Ringa\",\"commonjs2\":\"ringa\",\"commonjs\":\"ringa\",\"amd\":\"ringa\",\"umd\":\"ringa\"}\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}